let aFromB,OverviewFromB,affordabilityFromB,blilFromB,tawuFromB,govFromB,pg2FromB,pg3FromB,botsLifeFromB,bpopfFromB,metropolitanfFromB,declarationFromB;async function fillPdf(){let t=document.createElement("div");t.id="loadingOverlay",t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="100vw",t.style.height="100vh",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.color="#fff",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.fontSize="1.5rem",t.textContent="Loading, please wait...",document.body.appendChild(t);var e=document.createElement("div");e.className="optionsDiv",e.id="optionsDiv",e.style.width="90%",e.style.height="90%";try{var Q=await fetch("../img/overview.pdf"),J=await fetch("../img/affordability.pdf"),Z=await fetch("../img/blil.pdf"),$=await fetch("../img/tawuOdc.pdf"),_=await fetch("../img/govOdc.pdf"),ee=await fetch("../img/bpopfOdc.pdf"),te=await fetch("../img/botsLifeOdc.pdf"),ae=await fetch("../img/metropolitan.pdf"),ne=await fetch("../img/declaration.pdf"),ie=await fetch("../img/fcbApp1.pdf"),le=await fetch("../img/fcbApp2.pdf"),oe=await fetch("../img/fcbApp3.pdf");let a=await Q.arrayBuffer(),n=await J.arrayBuffer(),i=await Z.arrayBuffer(),l=await $.arrayBuffer(),o=await _.arrayBuffer(),r=await ee.arrayBuffer(),d=await te.arrayBuffer(),c=await ae.arrayBuffer(),s=await ne.arrayBuffer(),u=await ie.arrayBuffer(),m=await le.arrayBuffer(),p=await oe.arrayBuffer();var x=await PDFLib.PDFDocument.load(a),b=await PDFLib.PDFDocument.load(n),h=await PDFLib.PDFDocument.load(i),v=await PDFLib.PDFDocument.load(l),f=await PDFLib.PDFDocument.load(o),C=await PDFLib.PDFDocument.load(r),y=await PDFLib.PDFDocument.load(d),F=await PDFLib.PDFDocument.load(c),D=await PDFLib.PDFDocument.load(s),T=await PDFLib.PDFDocument.load(u),w=await PDFLib.PDFDocument.load(m),S=await PDFLib.PDFDocument.load(p),E=x.getForm(),N=b.getForm(),A=h.getForm(),L=v.getForm(),k=f.getForm(),B=C.getForm(),P=y.getForm(),I=F.getForm(),M=D.getForm(),z=T.getForm(),O=w.getForm(),V=S.getForm(),R=(fillOverview(E),fillaffordability(N,calMax),fillblil(A),pg1(z),pg2(O),pg3(V),fillDeclaration(M),"");switch(inputid){case"tawu26":case"tawu23":filltawuOdc(L),R="t";break;case"botusafe26":case"botusafe23":case"botusafe20":fillgovOdc(k),R="g";break;case"botsLife":fillBotsLife(P),R="bl";break;case"bpopf":fillBpopf(B),R="b";break;case"metropolitan":fillMetropolitan(I),R="m"}A.flatten(),E.flatten(),N.flatten(),k.flatten(),L.flatten(),B.flatten(),P.flatten(),I.flatten(),M.flatten(),z.flatten(),O.flatten(),V.flatten();var re=await x.save(),de=await b.save(),ce=await h.save(),se=await f.save(),ue=await v.save(),me=await C.save(),pe=await y.save(),ge=await F.save(),xe=await D.save(),be=await T.save(),he=await w.save(),ve=await S.save(),fe=new Blob([re],{type:"application/pdf"}),U=URL.createObjectURL(fe),Ce=new Blob([de],{type:"application/pdf"}),W=URL.createObjectURL(Ce),ye=new Blob([ce],{type:"application/pdf"}),Y=URL.createObjectURL(ye),Fe=new Blob([se],{type:"application/pdf"}),j=URL.createObjectURL(Fe),De=new Blob([ue],{type:"application/pdf"}),G=URL.createObjectURL(De),Te=new Blob([me],{type:"application/pdf"}),H=URL.createObjectURL(Te),we=new Blob([pe],{type:"application/pdf"}),K=URL.createObjectURL(we),Se=new Blob([xe],{type:"application/pdf"}),q=URL.createObjectURL(Se),Ee=new Blob([be],{type:"application/pdf"}),Ne=URL.createObjectURL(Ee),Ae=new Blob([he],{type:"application/pdf"}),Le=URL.createObjectURL(Ae),ke=new Blob([ve],{type:"application/pdf"}),Be=URL.createObjectURL(ke),Pe=new Blob([ge],{type:"application/pdf"}),Ie=URL.createObjectURL(Pe);let g=document.createElement("div");g.style.display="flex",g.style.flexDirection="column",["overview","affordability","credit life","odc","page1","page2","page3","declaration"].forEach(e=>{var t=document.createElement("label"),a=(t.style.display="flex",t.style.alignItems="center",document.createElement("input"));a.type="checkbox","page1"===(a.id=e)&&a.addEventListener("change",function(){this.checked&&createForm()}),t.appendChild(a),t.appendChild(document.createTextNode(e)),g.appendChild(t)}),aFromB=async function(){var e=await PDFLib.PDFDocument.load(u),t=(pg1(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});Ne=URL.createObjectURL(e)},OverviewFromB=async function(){var e=await PDFLib.PDFDocument.load(a),t=(fillOverview(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});U=URL.createObjectURL(e)},affordabilityFromB=async function(){var e=await PDFLib.PDFDocument.load(n),t=(fillaffordability(t=e.getForm(),calMax),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});W=URL.createObjectURL(e)},blilFromB=async function(){var e=await PDFLib.PDFDocument.load(i),t=(fillblil(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});Y=URL.createObjectURL(e)},tawuFromB=async function(){var e=await PDFLib.PDFDocument.load(l),t=(filltawuOdc(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});G=URL.createObjectURL(e)},govFromB=async function(){var e=await PDFLib.PDFDocument.load(o),t=(fillgovOdc(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});j=URL.createObjectURL(e)},pg2FromB=async function(){var e=await PDFLib.PDFDocument.load(m),t=(pg2(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});Le=URL.createObjectURL(e)},pg3FromB=async function(){var e=await PDFLib.PDFDocument.load(p),t=(pg3(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});Be=URL.createObjectURL(e)},botsLifeFromB=async function(){var e=await PDFLib.PDFDocument.load(d),t=(fillBotsLife(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});K=URL.createObjectURL(e)},bpopfFromB=async function(){var e=await PDFLib.PDFDocument.load(r),t=(fillBpopf(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});H=URL.createObjectURL(e)},metropolitanfFromB=async function(){var e=await PDFLib.PDFDocument.load(c),t=(fillMetropolitan(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});Ie=URL.createObjectURL(e)},declarationFromB=async function(){var e=await PDFLib.PDFDocument.load(s),t=(fillDeclaration(t=e.getForm()),t.flatten(),await e.save()),e=new Blob([t],{type:"application/pdf"});q=URL.createObjectURL(e)};var X=document.createElement("button");X.textContent="download",e.appendChild(g),e.appendChild(X),X.onclick=function(){var e=g.querySelectorAll('input[type="checkbox"]');let t=document.createElement("a"),a=document.createElement("a"),n=document.createElement("a"),i=document.createElement("a"),l=document.createElement("a"),o=document.createElement("a"),r=document.createElement("a"),d=document.createElement("a"),c=document.createElement("a"),s=document.createElement("a"),u=document.createElement("a"),m=document.createElement("a");t.href=U,a.href=W,n.href=Y,l.href=j,o.href=G,i.href=Ne,r.href=Le,d.href=Be,c.href=K,s.href=H,u.href=Ie,m.href=q,t.download="overview.pdf",a.download="affordability.pdf",n.download="insurance.pdf",i.download="page1.pdf",l.download="gov odc.pdf",o.download="tawu odc.pdf",r.download="page2.pdf",d.download="page3.pdf",c.download="bots life.pdf",s.download="bpopf.pdf",u.download="metropolitan.pdf",m.download="declaration.pdf",document.body.appendChild(t),document.body.appendChild(a),document.body.appendChild(n),document.body.appendChild(i),document.body.appendChild(l),document.body.appendChild(o),document.body.appendChild(r),document.body.appendChild(d),document.body.appendChild(c),document.body.appendChild(s),document.body.appendChild(u),document.body.appendChild(m),e.forEach(e=>{if(console.log(e),e.checked)switch(e.id){case"overview":t.click();break;case"affordability":a.click();break;case"credit life":n.click();break;case"odc":"g"===R?(l.click(),document.body.removeChild(l)):"t"===R?(o.click(),document.body.removeChild(o)):"bl"===R?(c.click(),document.body.removeChild(c)):"b"===R?(s.click(),document.body.removeChild(s)):"m"===R&&(u.click(),document.body.removeChild(u));break;case"page1":i.click();break;case"page2":r.click();break;case"page3":d.click();break;case"declaration":m.click()}}),document.body.removeChild(t),document.body.removeChild(a),document.body.removeChild(n),document.body.removeChild(i),document.body.removeChild(r),document.body.removeChild(d),document.body.removeChild(m)},containerDiv.appendChild(e),document.body.removeChild(t),e.style.display="block"}catch(e){console.error("Error processing PDFs:",e),t.textContent="Failed to load. Please try again.",setTimeout(()=>document.body.removeChild(t),3e3)}direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function fillOverview(e){var t=e.getTextField("loanAmount"),t=(t.setText(convert1(loan)),t.setFontSize(16),e.getTextField("installment")),t=(t.setText(convert1(installment)),t.setFontSize(16),e.getTextField("term")),t=(t.setText(term.toString()),t.setFontSize(16),e.getTextField("netSalary")),t=(t.setText(convert1(net)),t.setFontSize(16),e.getTextField("b2c")),t=(t.setText(convert1(b2c)),t.setFontSize(16),e.getTextField("date")),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),a=(t.setText(a.toString()),t.setFontSize(16),e.getTextField("customerName"));a.setFontSize(16),""!==formData&&a.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),e.getTextField("customerSignature").setFontSize(16),e.getTextField("managerSignature").setFontSize(16)}function fillaffordability(e,t){var a=e.getTextField("customerName");""!==formData&&a.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),e.getTextField("brokerName").setText("Ashley");e.getTextField("basicSalary").setText(t[0].toString());var n,i=0;for(n in allowanceInputs)allowanceInputs.hasOwnProperty(n)&&(e.getTextField("all"+(parseInt(i)+1)).setText(n),e.getTextField("allowance"+(parseInt(i)+1)).setText(allowanceInputs[n])),i+=1;e.getTextField("adjBasicSalary").setText(t[2].toString()),e.getTextField("deductions").setText(t[3].toString()),e.getTextField("otherLoans").setText(t[4].toString()),e.getTextField("adjNetIncome").setText(Number(t[5]).toFixed(2)),e.getTextField("taxCorrection").setText(t[6].toString()),e.getTextField("settleLoans").setText(t[7].toString()),e.getTextField("adjNetIncome2").setText(t[8].toString()),e.getTextField("rule").setText(t[9].toString());e.getTextField("maxQualify").setText(Number(t[10]).toFixed(2).toString());a=e.getTextField("loanAmount"),a.setText(loan.toString()),a.setFontSize(12),t=e.getTextField("installment"),t.setText(installment.toString()),t.setFontSize(12),a=e.getTextField("term"),a.setText(term.toString()),a.setFontSize(12),t=e.getTextField("netSalary"),t.setText(Number(net).toFixed(2).toString()),t.setFontSize(12),a=e.getTextField("b2c");a.setText(Number(b2c).toFixed(2).toString()),a.setFontSize(12);e.getTextField("blilpremium").setText(MaxLoan[2].toString());var l,o=0;for(l in settleLoanBalances)o+=1,settleLoanBalances.hasOwnProperty(l)&&e.getTextField("settle"+parseInt(o)).setText(settleLoanBalances[l].toString());e.getTextField("customerSignature")}function fillblil(e){e.getTextField("bankName").setText("First Capital Bank");var t=e.getTextField("firstName"),a=e.getTextField("surname"),n=(e.getTextField("nationality").setText("Motswana"),e.getTextField("addressLine1")),i=e.getTextField("addressLine2"),l=e.getTextField("occupation"),o=e.getTextField("cellNo"),r=e.getTextField("workNo"),d=(e.getCheckBox("accType").check(),e.getTextField("omang")),t=(""!==formData&&(t.setText(formData.get("applicantName")),a.setText(formData.get("applicantSurname")),n.setText(formData.get("addressBox")),i.setText(formData.get("town")),l.setText(formData.get("occupation")),o.setText(formData.get("cell")),r.setText(formData.get("workPhone")),d.setText(formData.get("omangNumber"))),e.getCheckBox("male")),a=e.getCheckBox("female");("male"===gender?t:a).check(),e.getCheckBox("repaymentFrequency").check(),e.getTextField("loanTerm").setText(term.toString()),e.getTextField("totalLoanAmount").setText(Number(f14.toFixed(2)).toString());e.getTextField("singlePremium").setText(h14.toFixed(2).toString());n=e.getTextField("date"),i=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear();n.setText(i.toString()),e.getTextField("birthdate").setText(dayValue+"/"+monthValue+"/"+yearValue)}function fillgovOdc(e){var t=e.getTextField("date"),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),t=(t.setText(a.toString()),e.getTextField("omangNumber")),n=e.getTextField("customerName"),i=e.getTextField("omangNumber2"),l=e.getTextField("ministry"),o=e.getTextField("postOf"),r=e.getTextField("situated"),d=e.getTextField("residingAt"),c=e.getTextField("customerName1");""!==formData&&(n.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),o.setText(formData.get("occupation")),t.setText(formData.get("omangNumber")),i.setText(formData.get("omangNumber")),l.setText(formData.get("employer")),r.setText(formData.get("employerAddress")),d.setText(formData.get("ward")+","+formData.get("city")),c.setText(formData.get("applicantName")+" "+formData.get("applicantSurname"))),e.getTextField("loanAmount").setText(loan.toString()),e.getTextField("installment").setText(installment.toString()),e.getTextField("loanTerm").setText(term.toString()),e.getTextField("loanTerm1").setText(term.toString()),e.getTextField("botlhaleInvestments").setText("BOTLHALE INVESTMENTS (PTY)LTD"),e.getTextField("Gaborone").setText("Gaborone"),e.getTextField("date2").setText(a.toString())}function filltawuOdc(e){var t=e.getTextField("date"),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),t=(t.setText(a.toString()),t.setFontSize(14),e.getTextField("omangNumber")),n=(t.setFontSize(14),e.getTextField("customerName")),i=(n.setFontSize(14),e.getTextField("institution")),l=(i.setFontSize(14),e.getTextField("position")),o=(l.setFontSize(14),e.getTextField("omangNumber1")),n=(o.setFontSize(14),""!==formData&&(n.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),l.setText(formData.get("occupation")),t.setText(formData.get("omangNumber")),o.setText(formData.get("omangNumber")),i.setText(formData.get("employer"))),e.getTextField("place")),l=(n.setText("Gaborone"),n.setFontSize(14),e.getTextField("capitalBank")),t=(l.setText("First Capital Bank"),l.setFontSize(14),e.getTextField("loanTerm")),o=(t.setText(term.toString()),t.setFontSize(14),e.getTextField("installment")),i=(o.setText(installment.toString()),o.setFontSize(14),e.getTextField("loanTerm1")),n=(i.setText(term.toString()),i.setFontSize(14),e.getTextField("date1"));n.setText(a.toString()),n.setFontSize(14)}function fillBotsLife(e){var t=e.getTextField("date"),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),t=(t.setText(a.toString()),t.setFontSize(14),e.getTextField("omangNumber")),n=(t.setFontSize(14),e.getTextField("customerName")),i=(n.setFontSize(14),e.getTextField("residingAt")),l=(i.setFontSize(14),e.getTextField("loanAmount")),l=(l.setFontSize(14),l.setText(loan.toString()),e.getTextField("loanTerm")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("installment")),l=(l.setText(installment.toString()),l.setFontSize(14),e.getTextField("loanTerm1")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("loanTerm2")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("installment1")),l=(l.setText(installment.toString()),l.setFontSize(14),e.getTextField("place")),l=(l.setText("Gaborone"),l.setFontSize(14),e.getTextField("customerName1")),e=(l.setFontSize(14),e.getTextField("date1"));e.setText(a.toString()),e.setFontSize(14),""!==formData&&(n.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),l.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),t.setText(formData.get("omangNumber")),i.setText(formData.get("city")+","+formData.get("ward")))}function fillBpopf(e){var t=e.getTextField("date"),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),t=(t.setText(a.toString()),t.setFontSize(14),e.getTextField("omangNumber")),n=(t.setFontSize(14),e.getTextField("customerName")),i=(n.setFontSize(14),e.getTextField("residingAt")),l=(i.setFontSize(14),e.getTextField("loanAmount")),l=(l.setFontSize(14),l.setText(loan.toString()),e.getTextField("loanTerm")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("installment")),l=(l.setText(installment.toString()),l.setFontSize(14),e.getTextField("loanTerm1")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("loanterm2")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("installment1")),l=(l.setText(installment.toString()),l.setFontSize(14),e.getTextField("place")),l=(l.setText("Gaborone"),l.setFontSize(14),e.getTextField("customerName1")),e=(l.setFontSize(14),e.getTextField("date1"));e.setText(a.toString()),e.setFontSize(14),""!==formData&&(n.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),l.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),t.setText(formData.get("omangNumber")),i.setText(formData.get("city")+","+formData.get("ward")))}function fillMetropolitan(e){var t=e.getTextField("date"),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),t=(t.setText(a.toString()),t.setFontSize(14),e.getTextField("omangNumber")),n=(t.setFontSize(14),e.getTextField("customerName")),i=(n.setFontSize(14),e.getTextField("residingAt")),l=(i.setFontSize(14),e.getTextField("loanAmount")),l=(l.setFontSize(14),l.setText(loan.toString()),e.getTextField("loanTerm")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("installment")),l=(l.setText(installment.toString()),l.setFontSize(14),e.getTextField("loanTerm1")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("loanTerm2")),l=(l.setText(term.toString()),l.setFontSize(14),e.getTextField("installment1")),l=(l.setText(installment.toString()),l.setFontSize(14),e.getTextField("place")),l=(l.setText("Gaborone"),l.setFontSize(14),e.getTextField("customerName1")),e=(l.setFontSize(14),e.getTextField("date2"));e.setText(a.toString()),e.setFontSize(14),""!==formData&&(n.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),l.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),t.setText(formData.get("omangNumber")),i.setText(formData.get("city")+","+formData.get("ward")))}function fillDeclaration(e){var t=e.getTextField("date"),a=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),a=(t.setText(a.toString()),t.setFontSize(14),e.getTextField("omangNumber")),t=(a.setFontSize(14),e.getTextField("customerName")),e=(t.setFontSize(14),e.getTextField("agentName"));e.setFontSize(14),""!==formData&&(t.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),a.setText(formData.get("omangNumber")),e.setText(formData.get("agentName")+" "+formData.get("agentSurname")))}var gender="male";function pg1(e){var t=e.getTextField("surname"),a=(t.setFontSize(13),e.getTextField("firstname")),n=(a.setFontSize(13),e.getTextField("othername")),i=(n.setFontSize(13),e.getTextField("title")),l=(i.setFontSize(13),e.getTextField("omangNumber")),o=(l.setFontSize(13),e.getTextField("birthdate")),r=(o.setFontSize(13),e.getTextField("gender")),d=(r.setFontSize(13),e.getTextField("cellNumber")),c=(d.setFontSize(13),e.getTextField("boxNumber")),s=(c.setFontSize(13),e.getTextField("city1")),u=(s.setFontSize(13),e.getTextField("city")),m=(u.setFontSize(13),e.getTextField("ward")),p=(m.setFontSize(13),e.getTextField("officeNumber")),z=(p.setFontSize(13),e.getCheckBox("notMarried")),O=e.getCheckBox("dirvoced"),V=e.getCheckBox("widowed"),R=e.getCheckBox("marriedCOP"),U=e.getCheckBox("marriedOCOP"),g=(e.getCheckBox("Check Box3").check(),e.getTextField("basicSalary")),x=(g.setFontSize(13),e.getTextField("deduction")),b=(x.setFontSize(13),e.getTextField("payslipNetPay")),h=(b.setFontSize(13),e.getTextField("accHolder")),v=(h.setFontSize(13),e.getTextField("accNumber")),f=(v.setFontSize(13),e.getTextField("bankName")),C=(f.setFontSize(13),e.getTextField("branchName")),y=(C.setFontSize(13),e.getTextField("accType")),F=(y.setFontSize(13),e.getTextField("branchCode")),D=(F.setFontSize(13),e.getTextField("refName")),T=(D.setFontSize(13),e.getTextField("refWard")),w=(T.setFontSize(13),e.getTextField("refCity")),S=(w.setFontSize(13),e.getTextField("refCellNumber")),E=(S.setFontSize(13),e.getTextField("refName1")),N=(E.setFontSize(13),e.getTextField("ref2Ward")),A=(N.setFontSize(13),e.getTextField("refCity2")),L=(A.setFontSize(13),e.getTextField("ref2CellNumber")),k=(L.setFontSize(13),e.getTextField("occupation")),B=(k.setFontSize(13),e.getTextField("omangNumber1")),P=(B.setFontSize(13),e.getTextField("employerAddress")),I=(P.setFontSize(13),e.getTextField("employmentDate")),M=(I.setFontSize(13),e.getTextField("employerName")),W=(M.setFontSize(13),e.getTextField("department")),t=(W.setFontSize(13),""!==formData&&(t.setText(formData.get("applicantSurname")),a.setText(formData.get("applicantName")),n.setText(formData.get("middleName")),l.setText(formData.get("omangNumber")),1==formData.get("omangNumber").charAt(4)?(i.setText("Mr"),r.setText("M")):("Not married"==maritalStatusValue?i.setText("Ms"):i.setText("Mrs"),r.setText("F")),o.setText(dayValue+"/"+monthValue+"/"+yearValue),D.setText(formData.get("kin1Name")+" "+formData.get("kin1Surname")),T.setText(formData.get("kin1Ward")),w.setText(formData.get("kin1Town")),S.setText(formData.get("kin1Cell")),E.setText(formData.get("kin2Name")+" "+formData.get("kin2Surname")),N.setText(formData.get("kin2Ward")),A.setText(formData.get("kin2Town")),L.setText(formData.get("kin2Cell")),("Not married"===maritalStatusValue?z:"Divorced"===maritalStatusValue?O:"Widowed"===maritalStatusValue?V:"married COP"===maritalStatusValue?R:U).check(),d.setText(formData.get("cell")),c.setText(formData.get("addressBox")),s.setText(formData.get("town")),u.setText(formData.get("city")),m.setText(formData.get("ward")),p.setText(formData.get("workPhone")),M.setText(formData.get("employer")),W.setText(formData.get("department")),P.setText(formData.get("employerAddress")),k.setText(formData.get("occupation")),I.setText("             "+formData.get("employmentDate")),B.setText(formData.get("omangNumber")),g.setText(basicAmount.toString()),x.setText(deductionAmount.toString()),b.setText(""),h.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),C.setText(formData.get("branchName")),v.setText(formData.get("accNummber")),f.setText(formData.get("bankName")),y.setText("current"),F.setText(" ")),e.getTextField("interestRate")),a=100*rt;t.setText(a.toString()),e.getTextField("loanAmount").setText(loan.toString()),e.getTextField("adminFee").setText(Number(d14.toFixed(2)).toString());e.getTextField("loanTerm").setText(term.toString());n=e.getTextField("installmentOne"),l=g14+h14;n.setText(l.toFixed(2).toString()),e.getTextField("insurancePremium").setText(h14.toFixed(2).toString()),e.getTextField("processingFee").setText(Number(e14.toFixed(2)).toString());e.getTextField("totalLoanAmount").setText(Number(f14.toFixed(2)).toString());i=e.getTextField("apr"),r=1200*calculateRate(term,-installment,loan,0,0,.1);i.setText(r.toFixed(2).toString()),e.getTextField("collectionFee").setText(Number(i14.toFixed(2)).toString()),e.getTextField("installment").setText(installment.toString())}function pg2(e){console.log("here");var t=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),a=(e.getTextField("witness1").setText("Ashley Hetanang-Mampane"),e.getTextField("date2")),n=e.getTextField("date3"),i=e.getTextField("date4");e.getTextField("date1").setText(t.toString()),a.setText(t.toString()),n.setText(t.toString()),i.setText(t.toString());e.getTextField("witness2").setText("Lefoko Ronkwane");a=e.getTextField("customerName");""!==formData&&a.setText(formData.get("applicantName")+" "+formData.get("applicantSurname"))}function pg3(e){var t=e.getTextField("beneficiaryName"),a=(t.setFontSize(12),e.getTextField("beneficiaryID")),n=(a.setFontSize(12),e.getTextField("beneficiaryBirthdate")),i=(n.setFontSize(12),e.getTextField("beneficiaryAddress")),l=(i.setFontSize(12),e.getTextField("beneficiaryGender")),o=(l.setFontSize(12),e.getTextField("beneficiaryCellNumber")),r=(o.setFontSize(12),e.getTextField("tittle")),d=(r.setFontSize(12),e.getTextField("customerName1")),c=(d.setFontSize(12),e.getTextField("customerID")),s=(c.setFontSize(12),e.getTextField("customerGender")),u=(s.setFontSize(12),e.getTextField("customerBirthdate")),m=(u.setFontSize(12),e.getTextField("customerAddress")),p=(m.setFontSize(12),e.getTextField("customerCellNumber")),e=(p.setFontSize(12),e.getTextField("workNumber"));u.setText(dayValue+"/"+monthValue+"/"+yearValue),""!==formData&&(t.setText(formData.get("beneficiaryName")+" "+formData.get("beneficiarySurname")),a.setText(formData.get("beneficiaryID")),n.setText(formData.get("beneficiaryBirthdate")),i.setText(formData.get("beneficiaryAddressBox")+","+formData.get("beneficiaryTown")),o.setText(formData.get("beneficiaryCellNumber")),d.setText(formData.get("applicantName")+" "+formData.get("applicantSurname")),c.setText(formData.get("omangNumber")),1==formData.get("omangNumber").charAt(4)?(r.setText("Mr"),s.setText("M")):("Not married"==maritalStatusValue?r.setText("Ms"):r.setText("Mrs"),s.setText("F")),1==formData.get("beneficiaryID").charAt(4)?l.setText("M"):l.setText("F"),p.setText(formData.get("cell")),m.setText(formData.get("addressBox")+","+formData.get("town")),e.setText(formData.get("workPhone")))}var basicAmount=0,workPlace="none",department="none",govDepartment=department,councilDepartment=department,selectedAllowances=[],selectionGroup=0,selectionGroupNewloan=0,direction=!0,deductionAmount=0,newloanPresent="no",settleloan="no",selectedNewLoanCode=[],selectedsettleLoanCode=[],taxCorrection="no",taxPensionDeductions=[0,0],maritalStatusValue="Not married",birthdate=0;let containerDiv=document.querySelector(".container");createBasicDiv();var currentDiv="",current="",netBut=document.getElementById("next");function updateTerm(e,t){t.textContent=e}function updateInstallment(e){e.textContent=installment}function updateLoanAmount(e){e.textContent=loan}function updateNetPay(e){e.textContent=net}function updateB2c(e){e.textContent=b2c}netBut.addEventListener("click",()=>{direction=!0,currentDiv=containerDiv.firstElementChild.className.split(" ")[0],current=document.getElementById(currentDiv),"optionsDiv"!==currentDiv&&(basicAmount<=0?(showNotification("basic amount cannot be 0 or less"),triggerShakeEffect()):0==selectedNewLoanCode.length&&"newloanPresentSelection"===currentDiv?(showNotification("please SELECT a new loan"),triggerShakeEffect()):hasZeroValue(NewLoanInputs)&&"selectedBoxNewloan"===currentDiv?(showNotification("please enter New loan installent"),triggerShakeEffect()):0==selectedsettleLoanCode.length&&"settleloanPresentSelection"===currentDiv?(showNotification("please SELECT a loan you want to SETTLE"),triggerShakeEffect()):""===dayValue||""===monthValue||""===yearValue?(showNotification("please SELECT a valid birthdate"),triggerShakeEffect()):"productDiv"===currentDiv&&checkAge()||(current.classList.add("shrink"),setTimeout(()=>{switch(currentDiv){case"basic":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("basic")),createWorkDiv());break;case"workPlace":containerDiv.contains(current)&&(containerDiv.removeChild(current),("government"===workPlace?createGovDepartmentDiv:createCouncilDepartmentDiv)());break;case"department":if(containerDiv.contains(current))switch(containerDiv.removeChild(current),department){case"bdf":bdfAllowanceSelection(),selectionGroup=1;break;case"police":policeAllowanceSelection(),selectionGroup=2;break;case"education":educationAllowanceSelection(),selectionGroup=3;break;case"other":otherAllowanceSelection(),selectionGroup=4}break;case"allowance":containerDiv.contains(current)&&(0==selectedAllowances.length?(showNotification("No permanent Alowances selected"),containerDiv.removeChild(current),createDeductionDiv()):(containerDiv.removeChild(current),createNumberInputs(selectedAllowances)));break;case"selectedBox":containerDiv.contains(current)&&(containerDiv.removeChild(current),createDeductionDiv());break;case"deduction":containerDiv.contains(current)&&(containerDiv.removeChild(current),createNewloanDiv());break;case"newloanPresent":containerDiv.contains(current)&&(containerDiv.removeChild(current),("yes"===newloanPresent?createLoanCodesOption:createSettleLoanDiv)());break;case"newloanPresentSelection":containerDiv.contains(current)&&(containerDiv.removeChild(current),createNumberInputsNewloan(selectedNewLoanCode));break;case"selectedBoxNewloan":containerDiv.contains(current)&&(containerDiv.removeChild(current),createSettleLoanDiv());break;case"oldloanSettle":containerDiv.contains(current)&&(containerDiv.removeChild(current),("yes"===settleloan?createSettleLoanCodesOption:createTaxOption)());break;case"settleloanPresentSelection":containerDiv.contains(current)&&(containerDiv.removeChild(current),createNumberInputsSettleloan(selectedsettleLoanCode));break;case"selectedBoxSettleloan":containerDiv.contains(current)&&(containerDiv.removeChild(current),createNumberInputsSettleloanBalances(selectedsettleLoanCode));break;case"selectedBoxSettleloanBalance":containerDiv.contains(current)&&(containerDiv.removeChild(current),createTaxOption());break;case"taxDiv":containerDiv.contains(current)&&(containerDiv.removeChild(current),("yes"===taxCorrection?createTaxCorrectionInputs:maritalStatus)());break;case"taxDivInput":containerDiv.contains(current)&&(containerDiv.removeChild(current),maritalStatus());break;case"maritalDiv":containerDiv.contains(current)&&(containerDiv.removeChild(current),getAge());break;case"birthdateDiv":containerDiv.contains(current)&&(containerDiv.removeChild(current),selectQualifyingProduct());break;case"productDiv":containerDiv.contains(current)&&(containerDiv.removeChild(current),chooseLoan());break;case"chooseLoanDiv":containerDiv.contains(current)&&(containerDiv.removeChild(current),fillPdf())}},500)))});var installment=0,net=0,b2c=0,loan=0,totalLoanAmount=0,MaxLoan=0,calMax=0;function chooseLoan(){calMax=calculateMaxInstallment(),MaxLoan=findClosestKey(calMax[10]),installment=MaxLoan[0],loan=MaxLoan[1],net=Number(calMax[8]-MaxLoan[0]).toFixed(2);var e=addPairs(settleLoanBalances),e=(b2c=Number(MaxLoan[1]-MaxLoan[2]-e).toFixed(2),document.createElement("div")),t=(e.className="chooseLoanDiv",e.id="chooseLoanDiv",e.textContent="Maximum loan selected, adjust as needed",e.style.display="flex",e.style.flexDirection="vertical",document.createElement("div"));t.className="l6xers";let o=document.createElement("div");o.textContent=term.toString();var a=document.createElement("div"),n=(a.style.display="flex",a.style.flexDirection="column",document.createElement("span")),i=(n.textContent="term",document.createElement("span")),n=(i.textContent="max "+term.toString(),a.appendChild(n),a.appendChild(i),document.createElement("div")),l=document.createElement("select"),i=([96,84,72,60,48,36,30,24,18,12,6].forEach(e=>{var t=document.createElement("option");t.value=e,t.textContent=e,l.appendChild(t)}),l.addEventListener("change",e=>{var e=e.target.value,t=(c.textContent="0",m.textContent="0",x.textContent="0",v.textContent="0",term=e,calMax=calculateMaxInstallment(),MaxLoan=findClosestKey(calMax[10]),installment=MaxLoan[0],loan=MaxLoan[1],net=Number(calMax[8]-MaxLoan[0]).toFixed(2),addPairs(settleLoanBalances));b2c=Number(MaxLoan[1]-MaxLoan[2]-t).toFixed(2),updateTerm(e,o),updateInstallment(s),updateLoanAmount(r),updateNetPay(p),updateB2c(b)}),l.style.padding="5px",l.style.margin="5px",l.style.fontSize="16px",n.appendChild(l),t.appendChild(a),t.appendChild(o),t.appendChild(n),document.createElement("div"));i.className="l6xers";let r=document.createElement("div");r.textContent=loan.toString();var a=document.createElement("div"),n=(a.style.display="flex",a.style.flexDirection="column",document.createElement("span")),d=(n.textContent="loan Amount",document.createElement("span")),n=(d.textContent="max "+loan.toString(),a.appendChild(n),a.appendChild(d),document.createElement("div")),c=document.createElement("span"),d=(c.textContent="0",c.setAttribute("contenteditable","true"),c.style.border="1px solid #ccc",c.style.padding="5px",c.style.width="50px",c.style.display="inline-block",c.style.textAlign="center",c.addEventListener("input",function(e){var t,e=e.target.textContent;m.textContent="0",x.textContent="0",v.textContent="0",isMultipleOf500AndInRange(e=isNaN(e)?e.slice(0,-1):e)&&(t=totalMonthlyAmountDisplay(e),installment=t[0],loan=e,calMax=calculateMaxInstallment(),MaxLoan=findClosestKey(installment),net=Number(calMax[8]-installment).toFixed(2),t=addPairs(settleLoanBalances),b2c=Number(loan-MaxLoan[2]-t).toFixed(2),updateTerm(term,o),updateInstallment(s),updateLoanAmount(r),updateNetPay(p),updateB2c(b))}),n.appendChild(c),i.appendChild(a),i.appendChild(r),i.appendChild(n),document.createElement("div"));d.className="l6xers";let s=document.createElement("div");s.textContent=installment.toString();var a=document.createElement("div"),n=(a.style.display="flex",a.style.flexDirection="column",document.createElement("span")),u=(n.textContent="Installment",document.createElement("span")),n=(u.textContent="max "+installment.toString(),a.appendChild(n),a.appendChild(u),document.createElement("div")),m=document.createElement("span"),u=(m.textContent="0",m.setAttribute("contenteditable","true"),m.style.border="1px solid #ccc",m.style.padding="5px",m.style.width="50px",m.style.display="inline-block",m.style.textAlign="center",m.addEventListener("input",function(e){e=e.target.textContent,c.textContent="0",x.textContent="0",v.textContent="0",isNaN(e)&&(e=e.slice(0,-1)),MaxLoan=findClosestKey(e),installment=MaxLoan[0],loan=MaxLoan[1],calMax=calculateMaxInstallment(),net=Number(calMax[8]-installment).toFixed(2),e=addPairs(settleLoanBalances);b2c=Number(loan-MaxLoan[2]-e).toFixed(2),updateTerm(term,o),updateInstallment(s),updateLoanAmount(r),updateNetPay(p),updateB2c(b)}),n.appendChild(m),d.appendChild(a),d.appendChild(s),d.appendChild(n),document.createElement("div"));u.className="l6xers";let p=document.createElement("div");p.textContent=net.toString();var a=document.createElement("div"),n=(a.style.display="flex",a.style.flexDirection="column",document.createElement("span")),g=(n.textContent="Net Salary",document.createElement("span")),n=(g.textContent="min "+net.toString(),a.appendChild(n),a.appendChild(g),document.createElement("div")),x=document.createElement("span"),g=(x.textContent="0",x.setAttribute("contenteditable","true"),x.style.border="1px solid #ccc",x.style.padding="5px",x.style.width="50px",x.style.display="inline-block",x.style.textAlign="center",x.addEventListener("input",function(e){var e=e.target.textContent,e=(c.textContent="0",m.textContent="0",v.textContent="0",isNaN(e)&&(e=e.slice(0,-1)),(calMax=calculateMaxInstallment())[8]-e);rule<=e&&e<=calMax[8]&&(MaxLoan=findClosestKey(e),installment=MaxLoan[0],loan=MaxLoan[1],net=Number(calMax[8]-installment).toFixed(2),e=addPairs(settleLoanBalances),b2c=Number(loan-MaxLoan[2]-e).toFixed(2)),updateTerm(term,o),updateInstallment(s),updateLoanAmount(r),updateNetPay(p),updateB2c(b)}),n.appendChild(x),u.appendChild(a),u.appendChild(p),u.appendChild(n),document.createElement("div"));g.className="l6xers";let b=document.createElement("div");b.textContent=b2c.toString();var a=document.createElement("div"),n=(a.style.display="flex",a.style.flexDirection="column",document.createElement("span")),h=(n.textContent="net Loan",document.createElement("span")),n=(h.textContent="max "+b2c.toString(),a.appendChild(n),a.appendChild(h),document.createElement("div")),v=document.createElement("span");v.textContent="0",v.setAttribute("contenteditable","true"),v.style.border="1px solid #ccc",v.style.padding="5px",v.style.width="50px",v.style.display="inline-block",v.style.textAlign="center",v.addEventListener("input",function(e){var e=e.target.textContent,t=(c.textContent="0",m.textContent="0",x.textContent="0",isNaN(e)&&(e=e.slice(0,-1)),e=Number(e),findClosestKey((calMax=calculateMaxInstallment())[8])),a=addPairs(settleLoanBalances),n=e+a,i=totalMonthlyAmountDisplay(n=500*Math.ceil(n/500)),l=n+2*i[1],l=n-e+a<2*i[1]?500*Math.ceil(l/500):n;1e3<=e&&l<=t[1]&&(i=totalMonthlyAmountDisplay(l),installment=i[0],loan=l,MaxLoan=findClosestKey(installment),net=Number(calMax[8]-installment).toFixed(2),b2c=Number(loan-MaxLoan[2]-a).toFixed(2),updateTerm(term,o),updateInstallment(s),updateLoanAmount(r),updateNetPay(p),updateB2c(b))}),n.appendChild(v),g.appendChild(a),g.appendChild(b),g.appendChild(n),e.appendChild(t),e.appendChild(i),e.appendChild(d),e.appendChild(u),e.appendChild(g),containerDiv.appendChild(e),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function viewLoanDetailsDiv(){var e=term,t=loan,a=installment,n=(Number(d14.toFixed(2)),Number(e14.toFixed(2)),Number(f14.toFixed(2)),Number(h14.toFixed(2)));Number(g14.toFixed(2)),Number(i14.toFixed(2));calculateRate(e,-a,t,0,0,.1)}function isMultipleOf500AndInRange(e){return e%500==0&&(5e3<=e&&e<=7e5)}function calculateRate(e,t,a,n,i,l){let o=l,r=0;for(;r<100;){var d=a*Math.pow(1+o,e)+t*(1+o*i)*(Math.pow(1+o,e)-1)/o+n,c=a*e*Math.pow(1+o,e-1)+t*(1+o*i)*(e*Math.pow(1+o,e-1)/o-(Math.pow(1+o,e)-1)/Math.pow(o,2)),d=o-d/c;if(Math.abs(d-o)<1e-6)return o;o=d,r++}return o}function hasZeroValue(e){for(var t in e)if(0===e[t]||"0"===e[t]||""===e[t])return!0;return!1}function showNotification(e){let t=document.getElementById("notification");t.textContent=e,t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},2e3)}function triggerShakeEffect(){let e=document.getElementById("container");e.classList.add("shake"),e.addEventListener("animationend",()=>{e.classList.remove("shake")},{once:!0})}function createBasicDiv(){var e=document.createElement("div"),t=(e.className="basic",e.id="basic",document.createElement("label")),a=(t.setAttribute("for","amountBasic"),t.textContent="BASIC SALARY (payslip)",document.createElement("input"));a.setAttribute("type","number"),a.setAttribute("id","amountBasic"),a.className="amountBasic",e.appendChild(t),e.appendChild(a),containerDiv.appendChild(e),document.getElementById("amountBasic").addEventListener("input",e=>{basicAmount=e.target.value}),null!=document.getElementById("amountBasic").value?document.getElementById("amountBasic").value=basicAmount:document.getElementById("amountBasic").value=0,direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function createWorkDiv(){var e=document.createElement("div"),t=(e.className="workPlace",e.id="workPlace",e.textContent="Select your place of WORK?",e.style.width="90%",document.createElement("div")),a=(t.className="govSub",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","workplace"),a.setAttribute("id","government"),a.setAttribute("value","government"),document.createElement("label")),n=(n.setAttribute("for","government"),n.textContent="Government",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="councilSub",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","workplace"),i.setAttribute("id","council"),i.setAttribute("value","council"),i.disabled=!0,document.createElement("label"));l.setAttribute("for","council"),l.textContent="Private",n.appendChild(i),n.appendChild(l),e.appendChild(t),e.appendChild(n),containerDiv.appendChild(e),a.addEventListener("change",e=>{workPlace=e.target.value}),i.addEventListener("change",e=>{workPlace=e.target.value}),"none"===workPlace||"government"===workPlace?(a.setAttribute("checked","government"),workPlace="government"):i.setAttribute("checked","council"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function createGovDepartmentDiv(){var e=document.createElement("div"),t=(e.className="department",e.id="department",e.textContent="Select your DEPARTMENT?",e.style.width="90%",document.createElement("div")),a=(t.className="bdfSub",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","department"),a.setAttribute("id","bdf"),a.setAttribute("value","bdf"),document.createElement("label")),n=(n.setAttribute("for","bdf"),n.textContent="BDF",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="policeSub",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","department"),i.setAttribute("id","police"),i.setAttribute("value","police"),document.createElement("label")),l=(l.setAttribute("for","police"),l.textContent="Police",n.appendChild(i),n.appendChild(l),document.createElement("div")),o=(l.className="educationSub",document.createElement("input")),r=(o.setAttribute("type","radio"),o.setAttribute("name","department"),o.setAttribute("id","education"),o.setAttribute("value","education"),document.createElement("label")),r=(r.setAttribute("for","education"),r.textContent="Education",l.appendChild(o),l.appendChild(r),document.createElement("div")),d=(r.className="otherSub",document.createElement("input")),c=(d.setAttribute("type","radio"),d.setAttribute("name","department"),d.setAttribute("id","other"),d.setAttribute("value","other"),document.createElement("label"));switch(c.setAttribute("for","other"),c.textContent="other",r.appendChild(d),r.appendChild(c),e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(r),containerDiv.appendChild(e),a.addEventListener("change",e=>{department=e.target.value,govDepartment=department,resetSelectedArrays()}),i.addEventListener("change",e=>{department=e.target.value,govDepartment=department,resetSelectedArrays()}),o.addEventListener("change",e=>{department=e.target.value,govDepartment=department,resetSelectedArrays()}),d.addEventListener("change",e=>{department=e.target.value,govDepartment=department,resetSelectedArrays()}),department=govDepartment){case"none":case"bdf":a.setAttribute("checked","bdf"),department="bdf";break;case"police":i.setAttribute("checked","police");break;case"education":o.setAttribute("checked","education");break;case"other":d.setAttribute("checked","other")}direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function resetSelectedArrays(){selectedAllowances=[],allowanceInputs=[]}function createCouncilDepartmentDiv(){var e=document.createElement("div"),t=(e.className="department",e.id="department",e.textContent="Select your DEPARTMENT?",e.style.width="90%",document.createElement("div")),a=(t.className="publicOfficersSub",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","department"),a.setAttribute("id","publicOfficers"),a.setAttribute("value","publicOfficers"),document.createElement("label")),n=(n.setAttribute("for","publicOfficers"),n.textContent="Public Officers",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="councilDeptSub",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","department"),i.setAttribute("id","council"),i.setAttribute("value","council"),document.createElement("label")),l=(l.setAttribute("for","council"),l.textContent="council",n.appendChild(i),n.appendChild(l),document.createElement("div")),o=(l.className="landboardSub",document.createElement("input")),r=(o.setAttribute("type","radio"),o.setAttribute("name","department"),o.setAttribute("id","landboard"),o.setAttribute("value","landboard"),document.createElement("label"));switch(r.setAttribute("for","landboard"),r.textContent="landboard",l.appendChild(o),l.appendChild(r),e.appendChild(t),e.appendChild(n),e.appendChild(l),containerDiv.appendChild(e),a.addEventListener("change",e=>{department=e.target.value,councilDepartment=department}),i.addEventListener("change",e=>{department=e.target.value}),o.addEventListener("change",e=>{department=e.target.value}),department=councilDepartment){case"none":case"publicOfficers":a.setAttribute("checked","publicOfficers"),department="publicOfficers";break;case"council":i.setAttribute("checked","council");break;case"landboard":o.setAttribute("checked","landboard")}direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function bdfAllowanceSelection(){var e=document.createElement("div");e.className="allowance",e.id="allowance",e.textContent="Select your PERMANENT ALLOWANCES(payslip)";let l=document.createElement("div");l.className="newDiv",["Commuted allowance","Technical allowance","BDF special Hazard","Housing & Upkeep allowance","Housing allowance","Scarce skill","X-Factor","Professional allowance","BDF special duty","Band Allowance","Fire Fighters Overtime Allowance 30%","Horse Allowance","counter terrorism allowance","utilities allowance"].forEach((t,e)=>{var a=document.createElement("div");a.className="checkboxDiv",a.id="allowance"+e;let n=document.createElement("input");n.type="checkbox",n.id="bdfAllowance"+t,n.name="allowance",n.value=t;var i=document.createElement("label");i.htmlFor="allowance"+e,i.textContent=t,a.appendChild(n),a.appendChild(i),a.appendChild(document.createElement("br")),l.appendChild(a),n.addEventListener("change",()=>{var e=t.replace(/\s+/g,"-").toLowerCase();n.checked?(selectedAllowances.push(n.value),allowanceInputs[e]=0):(selectedAllowances=selectedAllowances.filter(e=>e!==n.value),delete allowanceInputs[e])})}),e.appendChild(l),containerDiv.appendChild(e),checkalreadySelected(selectedAllowances,"bdf"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function policeAllowanceSelection(){var e=document.createElement("div");e.className="allowance",e.id="allowance",e.textContent="Select your PERMANENT ALLOWANCES(payslip)";let l=document.createElement("div");l.className="newDiv",["Housing and upkeep allowance","Professional allowance","Overtime allowance 20%","Scarce skill allowance","Housing allowance","Commuted allowance","Technical Skills allowance","Band allowance","Police special Hazard allowance","Police Plain Clothes Allowance"].forEach((t,e)=>{var a=document.createElement("div");a.className="checkboxDiv",a.id="allowance"+e;let n=document.createElement("input");n.type="checkbox",n.id="policeAllowance"+t,n.name="allowance",n.value=t;var i=document.createElement("label");i.htmlFor="allowance"+e,i.textContent=t,a.appendChild(n),a.appendChild(i),a.appendChild(document.createElement("br")),l.appendChild(a),n.addEventListener("change",()=>{var e=t.replace(/\s+/g,"-").toLowerCase();n.checked?(selectedAllowances.push(n.value),allowanceInputs[e]=0):(selectedAllowances=selectedAllowances.filter(e=>e!==n.value),delete allowanceInputs[e])})}),e.appendChild(l),containerDiv.appendChild(e),checkalreadySelected(selectedAllowances,"police"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function educationAllowanceSelection(){var e=document.createElement("div");e.className="allowance",e.id="allowance",e.textContent="Select your PERMANENT ALLOWANCES(payslip)";let l=document.createElement("div");l.className="newDiv",["Housing and upkeep allowance","Professional allowance","Scarce skill allowance","Housing allowance","Commuted allowance","Technical Skills allowance"].forEach((t,e)=>{var a=document.createElement("div");a.className="checkboxDiv",a.id="allowance"+e;let n=document.createElement("input");n.type="checkbox",n.id="educationAllowance"+t,n.name="allowance",n.value=t;var i=document.createElement("label");i.htmlFor="allowance"+e,i.textContent=t,a.appendChild(n),a.appendChild(i),a.appendChild(document.createElement("br")),l.appendChild(a),n.addEventListener("change",()=>{var e=t.replace(/\s+/g,"-").toLowerCase();n.checked?(selectedAllowances.push(n.value),allowanceInputs[e]=0):(selectedAllowances=selectedAllowances.filter(e=>e!==n.value),delete allowanceInputs[e])})}),e.appendChild(l),containerDiv.appendChild(e),checkalreadySelected(selectedAllowances,"education"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function otherAllowanceSelection(){var e=document.createElement("div");e.className="allowance",e.id="allowance",e.textContent="Select your PERMANENT ALLOWANCES(payslip)";let l=document.createElement("div");l.className="newDiv",["Commuted allowance","Technical allowance","BDF special Hazard","Housing & Upkeep allowance","Housing allowance","Scarce skill","RASA","X-Factor","Professional allowance","BDF special duty","Band Allowance","Fire Fighters Overtime Allowance 30%","Horse Allowance","counter terrorism allowance","utilities allowance"].forEach((t,e)=>{var a=document.createElement("div");a.className="checkboxDiv",a.id="allowance"+e;let n=document.createElement("input");n.type="checkbox",n.id="otherAllowance"+t,n.name="allowance",n.value=t;var i=document.createElement("label");i.htmlFor="allowance"+e,i.textContent=t,a.appendChild(n),a.appendChild(i),a.appendChild(document.createElement("br")),l.appendChild(a),n.addEventListener("change",()=>{var e=t.replace(/\s+/g,"-").toLowerCase();n.checked?(selectedAllowances.push(n.value),allowanceInputs[e]=0):(selectedAllowances=selectedAllowances.filter(e=>e!==n.value),delete allowanceInputs[e])})}),e.appendChild(l),containerDiv.appendChild(e),checkalreadySelected(selectedAllowances,"other"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function checkalreadySelected(e,t){e.forEach(e=>{e=document.querySelector(`input[type="checkbox"][id="${t}Allowance${e}"]`);e&&(e.checked=!0)})}document.getElementById("back").addEventListener("click",()=>{direction=!1,currentDiv=containerDiv.firstElementChild.className.split(" ")[0],"basic"!==(current=document.getElementById(currentDiv)).classList[0]&&(current.classList.add("shrink"),setTimeout(()=>{switch(currentDiv){case"workPlace":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("workPlace")),createBasicDiv());break;case"department":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("department")),createWorkDiv());break;case"allowance":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("allowance")),("government"===workPlace?createGovDepartmentDiv:createCouncilDepartmentDiv)());break;case"selectedBox":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("selectedBox")),1==selectionGroup?bdfAllowanceSelection():2==selectionGroup?policeAllowanceSelection():3==selectionGroup?educationAllowanceSelection():4==selectionGroup&&otherAllowanceSelection());break;case"deduction":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("deduction")),0==selectedAllowances.length&&"government"===workPlace?createGovDepartmentDiv():0==selectedAllowances.length&&"council"===workPlace?createCouncilDepartmentDiv():createNumberInputs(selectedAllowances));break;case"newloanPresent":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("newloanPresent")),createDeductionDiv());break;case"newloanPresentSelection":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("newloanPresentSelection")),createNewloanDiv());break;case"selectedBoxNewloan":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("selectedBoxNewloan")),createLoanCodesOption());break;case"oldloanSettle":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("oldloanSettle")),"yes"===newloanPresent?createNumberInputsNewloan(selectedNewLoanCode):createNewloanDiv());break;case"settleloanPresentSelection":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("settleloanPresentSelection")),createSettleLoanDiv());break;case"selectedBoxSettleloan":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("selectedBoxSettleloan")),createSettleLoanCodesOption());break;case"selectedBoxSettleloanBalance":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("selectedBoxSettleloanBalance")),createNumberInputsSettleloan(selectedsettleLoanCode));break;case"taxDiv":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("taxDiv")),"yes"===settleloan?createNumberInputsSettleloanBalances(selectedsettleLoanCode):createSettleLoanDiv());break;case"taxDivInput":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("taxDivInput")),createTaxOption());break;case"maritalDiv":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("maritalDiv")),("yes"===taxCorrection?createTaxCorrectionInputs:createTaxOption)());break;case"birthdateDiv":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("birthdateDiv")),""!==dayValue&&"Day"!==dayValue||(dayValue="Day"),""!==monthValue&&"Month"!==monthValue||(monthValue="Month"),""!==yearValue&&"Year"!==yearValue||(yearValue="Year"),maritalStatus());break;case"productDiv":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("productDiv")),getAge());break;case"chooseLoanDiv":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("chooseLoanDiv")),selectQualifyingProduct());break;case"optionsDiv":containerDiv.contains(current)&&(containerDiv.removeChild(document.getElementById("optionsDiv")),chooseLoan())}},500))});var allowanceInputs={};function createNumberInputs(e){var t=document.createElement("div");t.className="selectedBox",t.id="selectedBox",t.textContent="Enter ALLOWANCE AMOUNT as shown on your payslip";let l=document.createElement("div"),o=(l.className="newDiv",e.length-1);e.forEach((e,t)=>{var a=document.createElement("div"),n=(a.className="inputWrapper",a.id="inputWrapper"+t,0==t&&t==o?a.style.borderRadius="10px":t==o&&(a.style.borderRadius="0 0 10px 10px"),document.createElement("label"));n.htmlFor="numberInput"+t,n.textContent=e;let i=document.createElement("input");i.type="number",i.id="numberInput"+t,i.name=e.replace(/\s+/g,"-").toLowerCase(),i.min=0,i.max=9e5,a.appendChild(n),a.appendChild(i),l.appendChild(a),i.addEventListener("input",e=>{allowanceInputs[i.name]=e.target.value}),null!=i.value?i.value=allowanceInputs[i.name]:i.value=0}),t.appendChild(l),containerDiv.appendChild(t),direction?t.classList.add("slide-in-right"):t.classList.add("slide-in-left")}function createDeductionDiv(){var e=document.createElement("div"),t=(e.className="deduction",e.id="deduction",document.createElement("label")),a=(t.setAttribute("for","amountDeduction"),t.textContent="TOTAL DEDUCTIONS(payslip)",document.createElement("input"));a.setAttribute("type","number"),a.setAttribute("id","amountDeduction"),a.className="amountDeduction",e.appendChild(t),e.appendChild(a),containerDiv.appendChild(e),document.getElementById("amountDeduction").addEventListener("input",e=>{deductionAmount=e.target.value,console.log(deductionAmount)}),null!=document.getElementById("amountDeduction").value?document.getElementById("amountDeduction").value=deductionAmount:document.getElementById("amountDeduction").value=0,direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function createNewloanDiv(){var e=document.createElement("div"),t=(e.className="newloanPresent",e.id="newloanPresent",e.textContent="Do you have a NEW LOAN that has not deducted yet?(not for loans you want to settle)",e.style.width="90%",document.createElement("div")),a=(t.className="yes",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","newloan"),a.setAttribute("id","yes"),a.setAttribute("value","yes"),document.createElement("label")),n=(n.setAttribute("for","yes"),n.textContent="yes",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="no",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","newloan"),i.setAttribute("id","no"),i.setAttribute("value","no"),document.createElement("label"));l.setAttribute("for","no"),l.textContent="no",n.appendChild(i),n.appendChild(l),e.appendChild(t),e.appendChild(n),containerDiv.appendChild(e),a.addEventListener("change",e=>{newloanPresent=e.target.value}),i.addEventListener("change",e=>{newloanPresent=e.target.value}),"yes"===newloanPresent?a.setAttribute("checked","yes"):(newloanPresent="no",i.setAttribute("checked","no")),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function createLoanCodesOption(){var e=document.createElement("div");e.className="newloanPresentSelection",e.id="newloanPresentSelection",e.textContent="Select your NEW LOAN CODE";let l=document.createElement("div");l.className="newDiv",["boprita","bogowu","botusafe(capital bank)","botusafe(other)","TAWU","letshego","bayport","BDF advance","Express Credit","Saccos","minet","other 1","other 2","other 3"].forEach((t,e)=>{var a=document.createElement("div");a.className="checkboxDivNewloan",a.id="newloan"+e;let n=document.createElement("input");n.type="checkbox",n.id="newloanAllowance"+t,n.name="newloan",n.value=t;var i=document.createElement("label");i.htmlFor="newloan"+e,i.textContent=t,a.appendChild(n),a.appendChild(i),a.appendChild(document.createElement("br")),l.appendChild(a),n.addEventListener("change",()=>{var e=t.replace(/\s+/g,"-").toLowerCase();n.checked?(selectedNewLoanCode.push(n.value),NewLoanInputs[e]=0):(selectedNewLoanCode=selectedNewLoanCode.filter(e=>e!==n.value),delete NewLoanInputs[e])})}),e.appendChild(l),containerDiv.appendChild(e),checkalreadySelected(selectedNewLoanCode,"newloan"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}var NewLoanInputs={};function createNumberInputsNewloan(e){var t=document.createElement("div");t.className="selectedBoxNewloan",t.id="selectedBoxNewloan",t.textContent="Enter NEW LOAN INSTALLMENT as shown in your loan contract";let l=document.createElement("div"),o=(l.className="newDiv",e.length-1);e.forEach((e,t)=>{var a=document.createElement("div"),n=(a.className="inputWrapperNewloan",a.id="inputWrapperNewloan"+t,0==t&&t==o?a.style.borderRadius="10px":t==o&&(a.style.borderRadius="0 0 10px 10px"),document.createElement("label"));n.htmlFor="numberInputNewloan"+t,n.textContent=e;let i=document.createElement("input");i.type="number",i.id="numberInputNewloan"+t,i.name=e.replace(/\s+/g,"-").toLowerCase(),i.min=0,a.appendChild(n),a.appendChild(i),l.appendChild(a),i.addEventListener("input",e=>{NewLoanInputs[i.name]=e.target.value,console.log(NewLoanInputs)}),null!=i.value?i.value=NewLoanInputs[i.name]:i.value=0}),t.appendChild(l),containerDiv.appendChild(t),direction?t.classList.add("slide-in-right"):t.classList.add("slide-in-left")}function createSettleLoanDiv(){var e=document.createElement("div"),t=(e.className="oldloanSettle",e.id="oldloanSettle",e.textContent="Is there any loan(s) you want to SETTLE?",e.style.width="90%",document.createElement("div")),a=(t.className="yes",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","settleloan"),a.setAttribute("id","settleloan"),a.setAttribute("value","yes"),document.createElement("label")),n=(n.setAttribute("for","settleloan"),n.textContent="yes",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="no",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","settleloan"),i.setAttribute("id","settleloan"),i.setAttribute("value","no"),document.createElement("label"));l.setAttribute("for","settleloan"),l.textContent="no",n.appendChild(i),n.appendChild(l),e.appendChild(t),e.appendChild(n),containerDiv.appendChild(e),a.addEventListener("change",e=>{settleloan=e.target.value}),i.addEventListener("change",e=>{settleloan=e.target.value}),"yes"===settleloan?a.setAttribute("checked","yes"):(settleloan="no",i.setAttribute("checked","no")),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function createSettleLoanCodesOption(){var e=document.createElement("div");e.className="settleloanPresentSelection",e.id="settleloanPresentSelection",e.textContent="Select the LOAN CODE you want to SETTLE";let l=document.createElement("div");l.className="newDiv",["boprita","bogowu","botusafe(capital bank)","botusafe(other)","TAWU","letshego","bayport","BDF advance","Express Credit","Saccos","minet","other 1","other 2","other 3"].forEach((t,e)=>{var a=document.createElement("div");a.className="checkboxDivSettleloan",a.id="settleloan"+e;let n=document.createElement("input");n.type="checkbox",n.id="settleloanAllowance"+t,n.name="settleloan",n.value=t;var i=document.createElement("label");i.htmlFor="settleloan"+e,i.textContent=t,a.appendChild(n),a.appendChild(i),a.appendChild(document.createElement("br")),l.appendChild(a),n.addEventListener("change",()=>{var e=t.replace(/\s+/g,"-").toLowerCase();n.checked?(selectedsettleLoanCode.push(n.value),settleLoanInputs[e]=0,settleLoanBalances[e]=0):(selectedsettleLoanCode=selectedsettleLoanCode.filter(e=>e!==n.value),delete settleLoanInputs[e],delete settleLoanBalances[e])})}),e.appendChild(l),containerDiv.appendChild(e),checkalreadySelected(selectedsettleLoanCode,"settleloan"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}var settleLoanInputs={};function createNumberInputsSettleloan(e){var t=document.createElement("div");t.className="selectedBoxSettleloan",t.id="selectedBoxSettleloan",t.textContent="Enter INSTALLMENTS for the LOAN(s) TO BE SETTLED";let l=document.createElement("div"),o=(l.className="newDiv",e.length-1);e.forEach((e,t)=>{var a=document.createElement("div"),n=(a.className="inputWrapperSettleloan",a.id="inputWrapperSettleloan"+t,0==t&&t==o?a.style.borderRadius="10px":t==o&&(a.style.borderRadius="0 0 10px 10px"),document.createElement("label"));n.htmlFor="numberInputSettleloan"+t,n.textContent=e;let i=document.createElement("input");i.type="number",i.id="numberInputSettleloan"+t,i.name=e.replace(/\s+/g,"-").toLowerCase(),i.min=0,a.appendChild(n),a.appendChild(i),l.appendChild(a),i.addEventListener("input",e=>{settleLoanInputs[i.name]=e.target.value}),null!=i.value?i.value=settleLoanInputs[i.name]:i.value=0}),t.appendChild(l),containerDiv.appendChild(t),direction?t.classList.add("slide-in-right"):t.classList.add("slide-in-left")}var settleLoanBalances={};function createNumberInputsSettleloanBalances(e){var t=document.createElement("div");t.className="selectedBoxSettleloanBalance",t.id="selectedBoxSettleloanBalance",t.textContent="Enter your loan(s) SETTLEMENT BALANCE";let l=document.createElement("div"),o=(l.className="newDiv",e.length-1);e.forEach((e,t)=>{var a=document.createElement("div"),n=(a.className="inputWrapperSettleloanBalance",a.id="inputWrapperSettleloanBalance"+t,0==t&&t==o?a.style.borderRadius="10px":t==o&&(a.style.borderRadius="0 0 10px 10px"),document.createElement("label"));n.htmlFor="inputWrapperSettleloanBalance"+t,n.textContent=e;let i=document.createElement("input");i.type="number",i.id="inputWrapperSettleloanBalance"+t,i.name=e.replace(/\s+/g,"-").toLowerCase(),i.min=0,a.appendChild(n),a.appendChild(i),l.appendChild(a),i.addEventListener("input",e=>{settleLoanBalances[i.name]=e.target.value}),null!=i.value?i.value=settleLoanBalances[i.name]:i.value=0}),t.appendChild(l),containerDiv.appendChild(t),direction?t.classList.add("slide-in-right"):t.classList.add("slide-in-left")}function createTaxOption(){var e=document.createElement("div"),t=(e.className="taxDiv",e.id="taxDiv",e.textContent="do you have non-permanent overtime/allowance for TAX CORRECTION? ",e.style.width="90%",document.createElement("div")),a=(t.className="yes",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","taxCorrection"),a.setAttribute("id","taxCorrection"),a.setAttribute("value","yes"),document.createElement("label")),n=(n.setAttribute("for","taxCorrection"),n.textContent="yes",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="no",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","taxCorrection"),i.setAttribute("id","taxCorrection"),i.setAttribute("value","no"),document.createElement("label"));l.setAttribute("for","taxCorrection"),l.textContent="no",n.appendChild(i),n.appendChild(l),e.appendChild(t),e.appendChild(n),containerDiv.appendChild(e),a.addEventListener("change",e=>{taxCorrection=e.target.value}),i.addEventListener("change",e=>{taxCorrection=e.target.value}),"none"===taxCorrection||"no"===taxCorrection?(i.setAttribute("checked","no"),taxCorrection="no"):a.setAttribute("checked","yes"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function createTaxCorrectionInputs(){var e=document.createElement("div");e.className="taxDivInput",e.id="taxDivInput",e.textContent="Enter your INCOME TAX and PENSION deductions as reflected in your payslip";let l=document.createElement("div");l.className="newDiv";["Income Tax","Pension deduction"].forEach((e,t)=>{var a=document.createElement("div"),n=(a.className="inputWrapperTax",a.id="inputWrapperTax"+t,0==t&&1==t?a.style.borderRadius="10px":1==t&&(a.style.borderRadius="0 0 10px 10px"),document.createElement("label")),i=(n.htmlFor="numberInputTax"+t,n.textContent=e,document.createElement("input"));i.type="number",i.id="numberInputTax"+t,i.name=e.replace(/\s+/g,"-").toLowerCase(),i.min=0,a.appendChild(n),a.appendChild(i),l.appendChild(a),i.addEventListener("input",e=>{taxPensionDeductions[t]=e.target.value}),null!=i.value&&(i.value=taxPensionDeductions[t])}),e.appendChild(l),containerDiv.appendChild(e),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function maritalStatus(){var e=document.createElement("div"),t=(e.className="maritalDiv",e.id="maritalDiv",e.textContent="Select your marital status",e.style.width="90%",document.createElement("div")),a=(t.className="notMarried",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","maritalStatus"),a.setAttribute("id","maritalStatus"),a.setAttribute("value","Not married"),document.createElement("label")),n=(n.setAttribute("for","maritalStatus"),n.textContent="Not married",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="marital",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","maritalStatus"),i.setAttribute("id","maritalStatus"),i.setAttribute("value","Divorced"),document.createElement("label")),l=(l.setAttribute("for","maritalStatus"),l.textContent="Divorced",n.appendChild(i),n.appendChild(l),document.createElement("div")),o=(l.className="marital",document.createElement("input")),r=(o.setAttribute("type","radio"),o.setAttribute("name","maritalStatus"),o.setAttribute("id","maritalStatus"),o.setAttribute("value","Widowed"),document.createElement("label")),r=(r.setAttribute("for","maritalStatus"),r.textContent="Widowed",l.appendChild(o),l.appendChild(r),document.createElement("div")),d=(r.className="marital",document.createElement("input")),c=(d.setAttribute("type","radio"),d.setAttribute("name","maritalStatus"),d.setAttribute("id","maritalStatus"),d.setAttribute("value","married COP"),document.createElement("label")),c=(c.setAttribute("for","maritalStatus"),c.textContent="Married COP",r.appendChild(d),r.appendChild(c),document.createElement("div")),s=(c.className="ocop",document.createElement("input")),u=(s.setAttribute("type","radio"),s.setAttribute("name","maritalStatus"),s.setAttribute("id","maritalStatus"),s.setAttribute("value","Married out of COP"),document.createElement("label"));u.setAttribute("for","maritalStatus"),u.textContent="Married out of COP",c.appendChild(s),c.appendChild(u),e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(r),e.appendChild(c),containerDiv.appendChild(e),a.addEventListener("change",e=>{maritalStatusValue=e.target.value,console.log(maritalStatusValue)}),i.addEventListener("change",e=>{maritalStatusValue=e.target.value,console.log(maritalStatusValue)}),o.addEventListener("change",e=>{maritalStatusValue=e.target.value,console.log(maritalStatusValue)}),d.addEventListener("change",e=>{maritalStatusValue=e.target.value,console.log(maritalStatusValue)}),s.addEventListener("change",e=>{maritalStatusValue=e.target.value,console.log(maritalStatusValue)}),maritalStatusValue="Not married"===maritalStatusValue?(a.checked=!0,"Not married"):"Divorced"===maritalStatusValue?(i.checked=!0,"Divorced"):"Widowed"===maritalStatusValue?(o.checked=!0,"Widowed"):"married COP"===maritalStatusValue?(d.checked=!0,"married COP"):(s.checked=!0,"Married out of COP"),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}var productValue=.2,inputid="botusafe20",productMaxYear="other";let today=new Date;function checkAge(){var e=new Date(yearValue,monthValue-1,dayValue),e=new Date(e),e=("botsLife"===productMaxYear||"bpopf"===productMaxYear||"dikgosana"===productMaxYear||"metropolitan"===productMaxYear?e.setFullYear(e.getFullYear()+75):e.setFullYear(e.getFullYear()+60),monthsDifference(today,e));if(96<=e)term=96;else if(84<=e)term=84;else if(72<=e)term=72;else if(60<=e)term=60;else if(54<=e)term=54;else if(48<=e)term=48;else if(36<=e)term=36;else if(30<=e)term=30;else if(24<=e)term=24;else if(18<=e)term=18;else if(12<=e)term=12;else{if(!(6<=e))return showNotification("client does not qualify due to Age"),!0;term=6}}function selectQualifyingProduct(){var e=document.createElement("div"),t=(e.className="productDiv",e.id="productDiv",e.textContent="Select qualifying product",e.style.width="90%",document.createElement("div")),a=(t.className="botusafe20",document.createElement("input")),n=(a.setAttribute("type","radio"),a.setAttribute("name","product"),a.setAttribute("id","botusafe20"),a.setAttribute("value","0.20"),document.createElement("label")),n=(n.setAttribute("for","product"),n.textContent="botusafe 20%",t.appendChild(a),t.appendChild(n),document.createElement("div")),i=(n.className="tawu23",document.createElement("input")),l=(i.setAttribute("type","radio"),i.setAttribute("name","product"),i.setAttribute("id","tawu23"),i.setAttribute("value","0.23"),document.createElement("label")),l=(l.setAttribute("for","product"),l.textContent="tawu 23%",n.appendChild(i),n.appendChild(l),document.createElement("div")),o=(l.className="botusafe23",document.createElement("input")),r=(o.setAttribute("type","radio"),o.setAttribute("name","product"),o.setAttribute("id","botusafe23"),o.setAttribute("value","0.23"),document.createElement("label")),r=(r.setAttribute("for","product"),r.textContent="botusafe 23%",l.appendChild(o),l.appendChild(r),document.createElement("div")),d=(r.className="tawu26",document.createElement("input")),c=(d.setAttribute("type","radio"),d.setAttribute("name","product"),d.setAttribute("id","tawu26"),d.setAttribute("value","0.26"),document.createElement("label")),c=(c.setAttribute("for","product"),c.textContent="tawu 26%",r.appendChild(d),r.appendChild(c),document.createElement("div")),s=(c.className="botusafe26",document.createElement("input")),u=(s.setAttribute("type","radio"),s.setAttribute("name","product"),s.setAttribute("id","botusafe26"),s.setAttribute("value","0.26"),document.createElement("label")),u=(u.setAttribute("for","product"),u.textContent="botusafe 26%",c.appendChild(s),c.appendChild(u),document.createElement("div")),m=(u.className="lahisa",document.createElement("input")),p=(m.setAttribute("type","radio"),m.setAttribute("name","product"),m.setAttribute("id","lahisa"),m.setAttribute("value","0.26"),document.createElement("label")),p=(p.setAttribute("for","product"),p.textContent="lahisa",u.appendChild(m),u.appendChild(p),document.createElement("div")),g=(p.className="metropolitan",document.createElement("input")),x=(g.setAttribute("type","radio"),g.setAttribute("name","product"),g.setAttribute("id","metropolitan"),g.setAttribute("value","0.26"),document.createElement("label")),x=(x.setAttribute("for","product"),x.textContent="Metropolitan",p.appendChild(g),p.appendChild(x),document.createElement("div")),b=(x.className="botsLife",document.createElement("input")),h=(b.setAttribute("type","radio"),b.setAttribute("name","product"),b.setAttribute("id","botsLife"),b.setAttribute("value","0.26"),document.createElement("label")),h=(h.setAttribute("for","product"),h.textContent="Bots Life",x.appendChild(b),x.appendChild(h),document.createElement("div")),v=(h.className="bpopf",document.createElement("input")),f=(v.setAttribute("type","radio"),v.setAttribute("name","product"),v.setAttribute("id","bpopf"),v.setAttribute("value","0.26"),document.createElement("label"));switch(f.setAttribute("for","product"),f.textContent="bpopf",h.appendChild(v),h.appendChild(f),e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(r),e.appendChild(c),e.appendChild(p),e.appendChild(u),e.appendChild(x),e.appendChild(h),containerDiv.appendChild(e),a.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.9729,inputid="botusafe20",productMaxYear="other"}),o.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.9729,inputid="botusafe23",productMaxYear="other"}),s.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.9729,inputid="botusafe26",productMaxYear="other"}),i.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.975,inputid="tawu23",productMaxYear="other"}),d.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.975,inputid="tawu26",productMaxYear="other"}),g.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.9732,productMaxYear=inputid="metropolitan"}),m.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.9732,inputid="lahisa",productMaxYear="other"}),b.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.9732,productMaxYear=inputid="botsLife"}),v.addEventListener("change",e=>{productValue=Number(e.target.value),b6=(rt=productValue)/12,c9=.972,productMaxYear=inputid="bpopf"}),inputid){case"tawu26":d.checked=!0;break;case"metropolitan":g.checked=!0;break;case"tawu23":i.checked=!0;break;case"botusafe26":s.checked=!0;break;case"botusafe23":o.checked=!0;break;case"botusafe20":a.checked=!0;break;case"lahisa":m.checked=!0;break;case"botsLife":b.checked=!0;break;case"bpopf":v.checked=!0}direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}var dayValue="Day",monthValue="Month";let yearValue="Year";function getAge(){var e=document.createElement("div"),t=(e.className="birthdateDiv",e.id="birthdateDiv",e.textContent="Enter your birthday",document.createElement("form")),a=(t.className="birthdateForm",document.createElement("select"));a.setAttribute("id","day"),a.setAttribute("name","day"),a.required=!0;let n=document.createElement("option");n.textContent="Day",a.appendChild(n);for(let e=1;e<=31;e++)(n=document.createElement("option")).value=e,n.textContent=e,a.appendChild(n);"Day"===dayValue||""===dayValue?dayValue="":a.value=dayValue,t.appendChild(a);let i=document.createElement("select"),l=(i.setAttribute("id","month"),i.setAttribute("name","month"),i.required=!0,document.createElement("option"));l.value="",l.textContent="Month",i.appendChild(l);["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach((e,t)=>{(l=document.createElement("option")).value=t+1,l.textContent=e,i.appendChild(l)}),"Month"===monthValue||""===monthValue?monthValue="":i.value=monthValue,t.appendChild(i);var o=document.createElement("select");o.setAttribute("id","year"),o.setAttribute("name","year"),o.required=!0;let r=document.createElement("option");r.value="",r.textContent="Year",o.appendChild(r);var d=(new Date).getFullYear();for(let e=d-16;e>=d-75;e--)(r=document.createElement("option")).value=e,r.textContent=e,o.appendChild(r);"Year"===yearValue||""===yearValue?yearValue="":o.value=yearValue,t.appendChild(o),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),e.appendChild(t),containerDiv.appendChild(e),document.getElementById("day").addEventListener("change",e=>{"Day"!==(dayValue=e.target.value)&&""!==dayValue||(dayValue=""),console.log(dayValue)}),document.getElementById("month").addEventListener("change",e=>{"Month"!==(monthValue=e.target.value)&&""!==monthValue||(monthValue=""),console.log(monthValue)}),document.getElementById("year").addEventListener("change",e=>{"Year"!==(yearValue=e.target.value)&&""!==yearValue||(yearValue=""),console.log(yearValue)}),direction?e.classList.add("slide-in-right"):e.classList.add("slide-in-left")}function calculateTaxNonIndustrial(){var e=0,t=Number(addTaxPairs(allowanceInputs)),a=Math.floor(Number(basicAmount)+t),e=a<=4e3?0:4e3<a&&a<7e3?.05*(a-4e3):7e3<=a&&a<1e4?150+.125*(a-7e3):1e4<=a&&a<13e3?525+.1875*(a-1e4):1087.5+.25*(Number(basicAmount)+t-13e3-Number(taxPensionDeductions[1]));return console.log(a),console.log(Number(taxPensionDeductions[0])),console.log(e),Number(taxPensionDeductions[0])-Math.floor(100*e)/100}function addPairs(e){var t,a=0;for(t in e)a+=Number(e[t]);return a}function addTaxPairs(e){var t,a=0,n=["Night duty overtime ICE","RASA","Commuted allowance"];for(t in e)n.includes(t)||(a+=Number(e[t]));return a}function monthsDifference(e,t){let a=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth());return t.getDate()<e.getDate()&&a--,a-3}var rule=1300;function calculateMaxInstallment(){var e=Number(addPairs(allowanceInputs)),t=(console.log(allowanceInputs),addPairs(NewLoanInputs)),a=Number(basicAmount)+e,n=a-t-Number(deductionAmount),i=0,l=("yes"===taxCorrection&&(i=calculateTaxNonIndustrial()),addPairs(settleLoanInputs)),o=n+i+l,r=o-(rule=basicAmount<=9019?600:"Not married"===maritalStatusValue?1300:1500);return[Number(basicAmount),e,Number(a.toFixed(2)),Number(deductionAmount),Number(t.toFixed(2)),n,Math.floor(100*i)/100,Number(l.toFixed(2)),Number(o.toFixed(2)),rule,r]}function convert1(e){return Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function findClosestKey(t){var a=loans;if(0<totalMonthlyAmountDisplay(a[0])[0]-t)return showNotification("client does not qualify(NET TOO LOW)"),[0,0,0];var n=1;"lahisa"!==inputid&&"other"===productMaxYear&&(n=2);for(let e=0;e<a.length;e++){var i=totalMonthlyAmountDisplay(a[e]),l=i[0]-t;if(0==l||7e5==a[e])return[i[0],a[e],n*i[1]];if(0<l)return[(i=totalMonthlyAmountDisplay(a[e-1]))[0],a[e-1],n*i[1]]}}for(var startLoanAmount=5e3,maxLoanAmount=7e5,loans=[],loanAmountColumn={},loanAmount=startLoanAmount;loanAmount<=maxLoanAmount;loanAmount+=500){loans.push(loanAmount);var ckey=loanAmount.toString();loanAmountColumn[ckey]=loanAmount}var rt=.2,b6=rt/12,b9=.0271,c9=1-b9,term=96,d14=0,e14=0,f14=0,g14=0,h14=0,j14=0,b8=1.15,i14=0,l14=0;function totalMonthlyAmountDisplay(e){var t,a,n;return"undefined"===e.toString()||"NaN"===e.toString()?null:(a=checkValueAg(.0112*(t=loanAmountColumn[e.toString()])),n=checkValueAh(.0112*t),g14=-PMT(b6,term,f14=t+(d14=a)+(e14=n)),i14=(j14=g14+(h14=f14/1e3*b8))/c9-j14,l14=g14*term-f14,totalLoanAmount=Number(e+d14+e14).toFixed(2),[Number((j14+i14).toFixed(2)),Number(h14.toFixed(2))])}function checkValueAg(e){return e<1120?1120:2878.4<=e?2878.4:e}function checkValueAh(e){return e<275.08?275.08:2878.4<=e?2878.4:e}function PMT(e,t,a){return 0===e?-a/t:-(a*e*(a=Math.pow(1+e,t))/(a-1))}function showform(){}var formData="";function createForm(){let t=document.getElementById("particularsForm");var e,a,n,i,l,o,r,d,c,s;function u(e){var t=document.createElement("div"),a=(t.classList.add("form-section"),document.createElement("h4"));return a.textContent=e,t.appendChild(a),t}function m(e,t,a){var n=document.createElement("div"),i=(n.classList.add("form-field"),document.createElement("label")),e=(i.textContent=e,i.setAttribute("for",a),document.createElement("input"));return e.setAttribute("type",t),e.setAttribute("name",a),e.setAttribute("id",a),n.appendChild(i),n.appendChild(e),n}t.hasChildNodes()||((e=document.createElement("form")).setAttribute("id","dynamicForm"),(a=u("AGENT DETAILS")).appendChild(m("Name","text","agentName")),a.appendChild(m("Surname","text","agentSurname")),(d=u("APPLICANT DETAILS")).appendChild(m("Name","text","applicantName")),d.appendChild(m("other Names","text","middleName")),d.appendChild(m("Surname","text","applicantSurname")),d.appendChild(m("Omang","tel","omangNumber")),d.appendChild(m("Cell Number","tel","cell")),(c=u("POSTAL ADDRESS")).appendChild(m("Box Number","text","addressBox")),c.appendChild(m("City/Town","text","town")),(s=u("PHYSICAL ADDRESS")).appendChild(m("Suburb/Ward","text","ward")),s.appendChild(m("City/Town","text","city")),(n=u("WORK DETAILS")).appendChild(m("Name of Employer","text","employer")),n.appendChild(m("Department","text","department")),n.appendChild(m("Employer Address","text","employerAddress")),n.appendChild(m("Office/Work Number","tel","workPhone")),n.appendChild(m("Occupation","text","occupation")),n.appendChild(m("Date of Employment","text","employmentDate")),(i=u("BANKING DETAILS")).appendChild(m("Account Number","tel","accNummber")),i.appendChild(m("Bank Name","text","bankName")),i.appendChild(m("Branch Name","text","branchName")),(l=u("NEXT OF KIN 1")).appendChild(m("Name","text","kin1Name")),l.appendChild(m("Surname","text","kin1Surname")),l.appendChild(m("Suburb/Ward","text","kin1Ward")),l.appendChild(m("City/Town/Village","text","kin1Town")),l.appendChild(m("Cell Number","tel","kin1Cell")),(o=u("NEXT OF KIN 2")).appendChild(m("Name","text","kin2Name")),o.appendChild(m("Surname","text","kin2Surname")),o.appendChild(m("Suburb/Ward","text","kin2Ward")),o.appendChild(m("City/Town/Village","text","kin2Town")),o.appendChild(m("Cell Number","tel","kin2Cell")),(r=u("BENEFICIARY")).appendChild(m("Name","text","beneficiaryName")),r.appendChild(m("Surname","text","beneficiarySurname")),r.appendChild(m("beneficiary ID","text","beneficiaryID")),r.appendChild(m("DOB","text","beneficiaryBirthdate")),r.appendChild(m("Box Number","text","beneficiaryAddressBox")),r.appendChild(m("City/Town","text","beneficiaryTown")),r.appendChild(m("Cell Number","text","beneficiaryCellNumber")),e.appendChild(d),e.appendChild(c),e.appendChild(s),e.appendChild(n),e.appendChild(i),e.appendChild(l),e.appendChild(o),e.appendChild(r),e.appendChild(a),(d=document.createElement("div")).style.display="flex",d.style.justifyContent="space-between",d.style.marginTop="20px",(c=document.createElement("button")).setAttribute("type","submit"),c.textContent="Save",c.style.marginLeft="auto",e.addEventListener("submit",function(e){e.preventDefault(),formData=new FormData(e.target),aFromB(),OverviewFromB(),affordabilityFromB(),blilFromB(),tawuFromB(),govFromB(),pg2FromB(),pg3FromB(),botsLifeFromB(),bpopfFromB(),metropolitanfFromB(),declarationFromB(),t.style.display="none"}),(s=document.createElement("button")).setAttribute("type","button"),s.textContent="Cancel",s.addEventListener("click",()=>{t.style.display="none"}),d.appendChild(s),d.appendChild(c),e.appendChild(d),t.appendChild(e)),t.style.display="block"}